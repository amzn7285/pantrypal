<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PantryPal ‚Ä¢ Smart Recipe Finder</title>
  <meta name="description" content="Find recipes based on ingredients you already have. No AI needed ‚Äî just type & cook!">
  <style>
    * { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }
    :root { --primary: #4361ee; --secondary: #3f37c9; --success: #4cc9f0; --light: #f8f9fa; --dark: #212529; --gray: #6c757d; }
    body { background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%); color: var(--dark); line-height: 1.6; padding: 15px; max-width: 650px; margin: 0 auto; min-height: 100vh; display: flex; flex-direction: column; }
    .header { text-align: center; padding: 20px 0; margin-bottom: 25px; }
    .header h1 { font-size: 28px; margin: 10px 0; color: var(--secondary); display: flex; align-items: center; justify-content: center; gap: 10px; }
    .header h1 span { color: #e63946; }
    .header p { color: var(--gray); font-size: 16px; max-width: 500px; margin: 8px auto 0; }
    .container { background: white; border-radius: 16px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); padding: 25px; flex: 1; }
    .step { transition: opacity 0.3s; }
    .hidden { display: none; }
    input, select, button { width: 100%; padding: 14px; margin: 12px 0; border: 1px solid #ddd; border-radius: 12px; font-size: 16px; }
    input:focus, select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2); }
    button { background: var(--primary); color: white; border: none; font-weight: 600; cursor: pointer; transition: all 0.2s; }
    button:hover { background: var(--secondary); transform: translateY(-1px); }
    button:active { transform: translateY(0); }
    button.secondary { background: #6c757d; }
    button.secondary:hover { background: #5a6268; }
    button.success { background: #28a745; }
    button.success:hover { background: #218838; }
    button.danger { background: #e63946; }
    button.danger:hover { background: #c1121f; }
    button.order-btn { background: #ff9e64; color: var(--dark); font-weight: bold; width: auto; padding: 10px 18px; margin-top: 12px; }
    button.order-btn:hover { background: #ff8c42; }
    .ingredient-tag { display: inline-block; background: #e3f2fd; color: var(--secondary); padding: 8px 16px; margin: 6px 6px 6px 0; border-radius: 20px; font-size: 15px; font-weight: 500; position: relative; }
    .ingredient-tag button { position: absolute; right: 6px; top: 50%; transform: translateY(-50%); background: #bbdefb; border: none; width: 22px; height: 22px; border-radius: 50%; font-size: 14px; cursor: pointer; color: var(--secondary); padding: 0; line-height: 1; }
    .ingredient-tag button:hover { background: #90caf9; }
    .recipe-card { background: #f8fafc; border-radius: 14px; padding: 22px; margin: 20px 0; border-left: 4px solid var(--primary); position: relative; }
    .recipe-card h3 { margin: 0 0 14px 0; color: var(--secondary); font-size: 22px; }
    .recipe-meta { display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; }
    .cuisine-tag { background: #e9ecef; color: var(--gray); padding: 4px 10px; border-radius: 12px; font-size: 14px; }
    .regional-tag { background: #d1e7dd; color: #0f5132; padding: 4px 10px; border-radius: 12px; font-size: 14px; }
    .ingredients-list { margin: 18px 0; }
    .ingredients-list h4 { margin: 0 0 10px 0; color: var(--gray); font-size: 17px; display: flex; align-items: center; gap: 8px; }
    .ingredients-list ul { padding-left: 22px; margin: 8px 0; }
    .ingredients-list li { margin: 6px 0; font-size: 16px; }
    .available { color: #28a745; font-weight: 500; }
    .missing { color: #e63946; font-weight: 500; }
    .instructions { background: white; border-radius: 12px; padding: 18px; margin-top: 18px; border: 1px solid #e9ecef; }
    .instructions summary { font-weight: 600; color: var(--primary); font-size: 18px; cursor: pointer; }
    .instructions p { margin: 12px 0 0 0; line-height: 1.7; }
    .no-recipes { text-align: center; padding: 30px 20px; color: var(--gray); }
    .no-recipes p { font-size: 18px; margin: 15px 0; }
    .app-footer { text-align: center; margin-top: 30px; color: var(--gray); font-size: 14px; padding: 15px; }
    .app-footer a { color: var(--primary); text-decoration: none; }
    .app-footer a:hover { text-decoration: underline; }
    @media (max-width: 480px) {
      .container { padding: 20px 18px; }
      .header h1 { font-size: 24px; }
      input, select, button { padding: 13px; font-size: 15px; }
      .ingredient-tag { padding: 7px 14px; font-size: 14px; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ü•ô <span>Pantry</span>Pal</h1>
    <p>Type what's in your kitchen ‚Üí Get perfect recipes in seconds</p>
  </div>
  
  <div class="container">
    <!-- Step 1: Add Ingredients -->
    <div id="step1" class="step">
      <h2>Step 1: What's in your pantry?</h2>
      <p style="color:#6c757d;margin-top:-8px;font-size:15px;">Type ingredients you have (no photo needed)</p>
      
      <input type="text" id="ingredientInput" placeholder="e.g., eggs, tomatoes, rice..." aria-label="Add ingredient" onkeypress="if(event.key==='Enter') addIngredient()">
      
      <div style="display:flex;gap:10px;margin-top:12px;">
        <button onclick="addIngredient()" style="flex:1;">+ Add Ingredient</button>
        <button onclick="useSampleIngredients()" class="secondary" style="flex:1;padding:13px;font-size:15px;">üé≤ Try Sample</button>
      </div>
      
      <div id="ingredientsList" style="margin:20px 0 25px 0;min-height:60px;"></div>
      
      <button onclick="nextToCuisine()" class="success" style="padding:15px;font-size:17px;">‚Üí Choose Cuisine</button>
    </div>
    
    <!-- Step 2: Select Cuisine -->
    <div id="step2" class="step hidden">
      <h2>Step 2: Choose Cuisine</h2>
      
      <select id="cuisineSelect" aria-label="Select cuisine" onchange="toggleRegional()" style="font-size:17px;padding:15px;">
        <option value="">-- Select Cuisine --</option>
        <option value="indian">üáÆüá≥ Indian</option>
        <option value="chinese">üá®üá≥ Chinese</option>
        <option value="italian">üáÆüáπ Italian</option>
        <option value="continental">üåç Continental</option>
      </select>
      
      <select id="regionalSelect" class="hidden" aria-label="Select regional cuisine" style="margin-top:15px;font-size:17px;padding:15px;">
        <option value="">-- Select Region --</option>
        <option value="punjabi">üçõ Punjabi</option>
        <option value="south-indian">ü•• South Indian</option>
        <option value="gujarati">ü•ú Gujarati</option>
        <option value="marathi">üåæ Marathi</option>
        <option value="hyderabadi">üå∂Ô∏è Hyderabadi</option>
        <option value="bengali">üêü Bengali</option>
      </select>
      
      <div style="display:flex;gap:12px;margin-top:25px;">
        <button onclick="findRecipes()" class="success" style="flex:1;padding:15px;font-size:17px;">‚ú® Find Recipes</button>
        <button onclick="backToIngredients()" class="secondary" style="flex:1;padding:15px;font-size:17px;">‚Üê Back</button>
      </div>
    </div>
    
    <!-- Step 3: Results -->
    <div id="step3" class="step hidden">
      <h2>Step 3: Your Recipes</h2>
      <p style="color:#6c757d;margin-top:-8px;font-size:15px;">Based on your <strong id="ingredientCount">3</strong> ingredients</p>
      
      <div id="recipesContainer"></div>
      
      <button onclick="resetApp()" class="danger" style="width:100%;padding:16px;font-size:17px;margin-top:15px;">‚Ü∫ Start Over</button>
    </div>
  </div>
  
  <div class="app-footer">
    <p>‚ú® Made with ‚ù§Ô∏è by PantryPal ‚Ä¢ <a href="#" onclick="showPrivacy()">Privacy Policy</a></p>
  </div>

  <script>
    let ingredients = [];
    
    // 50+ REAL RECIPES DATABASE
    const recipesData = {
      "indian": {
        "punjabi": [
          {
            name: "Punjabi Chole (Chickpea Curry)",
            ingredients: ["chickpeas", "onion", "tomato", "ginger", "garlic", "chana masala", "coriander powder", "turmeric"],
            instructions: "1. Soak chickpeas overnight. Pressure cook with salt until soft.\n2. Heat oil, saut√© onions until golden. Add ginger-garlic paste.\n3. Add tomatoes, cook until mushy. Add all spices.\n4. Add cooked chickpeas with water. Simmer 15 mins.\n5. Garnish with coriander. Serve with bhature or rice."
          },
          {
            name: "Dal Makhani",
            ingredients: ["black lentils", "kidney beans", "butter", "cream", "tomato", "ginger", "garlic", "kasuri methi"],
            instructions: "1. Soak black lentils & kidney beans overnight. Pressure cook until very soft.\n2. Heat butter, saut√© ginger-garlic paste. Add tomatoes, cook well.\n3. Add cooked lentils with water. Simmer 30 mins on low flame.\n4. Add cream and kasuri methi. Cook 10 more mins.\n5. Finish with butter on top. Serve with naan."
          },
          {
            name: "Paneer Butter Masala",
            ingredients: ["paneer", "butter", "cashew", "tomato", "cream", "kasuri methi", "ginger", "garlic"],
            instructions: "1. Blend cashews + tomatoes into smooth paste.\n2. Heat butter, saut√© ginger-garlic paste. Add cashew-tomato paste.\n3. Cook until oil separates. Add red chili powder, garam masala.\n4. Add paneer cubes and cream. Simmer 5 mins.\n5. Crush kasuri methi on top. Serve hot with naan."
          }
        ],
        "south-indian": [
          {
            name: "Sambar",
            ingredients: ["toor dal", "tamarind", "drumstick", "carrot", "brinjal", "sambar powder", "curry leaves", "mustard seeds"],
            instructions: "1. Pressure cook toor dal until soft. Mash well.\n2. Soak tamarind in warm water, extract pulp.\n3. Boil vegetables with sambar powder and tamarind pulp.\n4. Add cooked dal. Simmer 10 mins.\n5. Temper with mustard seeds + curry leaves in oil. Pour on sambar. Serve with rice/idli."
          },
          {
            name: "Coconut Chutney",
            ingredients: ["coconut", "green chili", "ginger", "roasted chana dal", "curry leaves", "mustard seeds", "cilantro"],
            instructions: "1. Grind coconut, green chili, ginger, roasted chana dal with water to smooth paste.\n2. Add salt to taste.\n3. Temper with mustard seeds + curry leaves in oil.\n4. Pour tempering on chutney. Garnish with cilantro. Serve with dosa/idli."
          },
          {
            name: "Vegetable Poriyal",
            ingredients: ["beans", "carrot", "coconut", "mustard seeds", "urad dal", "curry leaves", "turmeric"],
            instructions: "1. Chop beans and carrot finely.\n2. Heat oil, add mustard seeds and urad dal. Let them splutter.\n3. Add curry leaves, turmeric, then vegetables. Stir well.\n4. Cover and cook 8-10 mins until tender.\n5. Add grated coconut. Mix well. Serve with rice."
          }
        ],
        "gujarati": [
          {
            name: "Dhokla",
            ingredients: ["besan", "curd", "ginger", "green chili", "baking soda", "mustard seeds", "curry leaves", "cilantro"],
            instructions: "1. Mix besan, curd, ginger-chili paste, salt to smooth batter. Rest 20 mins.\n2. Just before steaming, add baking soda + water. Mix gently.\n3. Pour into greased tray. Steam 15-20 mins.\n4. Temper with mustard seeds + curry leaves in oil. Pour on dhokla.\n5. Garnish with cilantro and coconut. Cut into diamonds. Serve warm."
          },
          {
            name: "Handvo",
            ingredients: ["bottle gourd", "rice flour", "besan", "curd", "sesame seeds", "mustard seeds", "turmeric", "green chili"],
            instructions: "1. Grate bottle gourd. Squeeze out excess water.\n2. Mix with rice flour, besan, curd, spices to thick batter.\n3. Pour into greased pan. Sprinkle sesame seeds on top.\n4. Bake at 180¬∞C for 40-45 mins until golden.\n5. Cool slightly, cut into squares. Serve with chutney."
          }
        ],
        "marathi": [
          {
            name: "Pithla Bhakri",
            ingredients: ["besan", "onion", "tomato", "mustard seeds", "turmeric", "jaggery", "coriander", "bhakri"],
            instructions: "1. Heat oil, temper mustard seeds.\n2. Add onions, tomatoes, turmeric. Cook until soft.\n3. Slowly add besan while stirring continuously to avoid lumps.\n4. Add water gradually to desired consistency. Simmer 10 mins.\n5. Add jaggery and coriander. Serve hot with bhakri (millet flatbread)."
          }
        ],
        "hyderabadi": [
          {
            name: "Hyderabadi Biryani",
            ingredients: ["basmati rice", "chicken", "yogurt", "onion", "mint", "coriander", "saffron", "biryani masala"],
            instructions: "1. Marinate chicken with yogurt, biryani masala, mint, coriander for 2+ hours.\n2. Parboil basmati rice with whole spices.\n3. Layer: half rice ‚Üí marinated chicken ‚Üí fried onions ‚Üí saffron milk ‚Üí remaining rice.\n4. Seal pot with dough. Cook on low flame 25 mins (dum cooking).\n5. Gently mix layers before serving. Garnish with fried onions."
          }
        ],
        "bengali": [
          {
            name: "Shorshe Ilish (Hilsa in Mustard Sauce)",
            ingredients: ["hilsa fish", "mustard seeds", "green chili", "turmeric", "mustard oil", "radhuni (celery seeds)"],
            instructions: "1. Marinate hilsa pieces with turmeric and salt.\n2. Grind mustard seeds + green chilies + water to paste.\n3. Heat mustard oil until smoking. Lower flame.\n4. Add radhuni, then mustard paste. Cook 2 mins.\n5. Add fish gently. Cover and cook 8-10 mins. Serve with steamed rice."
          },
          {
            name: "Cholar Dal",
            ingredients: ["chana dal", "coconut", "date palm jaggery", "ghee", "cinnamon", "cardamom", "bay leaf"],
            instructions: "1. Pressure cook chana dal until soft.\n2. Heat ghee, add whole spices (cinnamon, cardamom, bay leaf).\n3. Add cooked dal, coconut slices, jaggery. Simmer 10 mins.\n4. Consistency should be thick. Serve with luchi (Bengali puri) during festivals."
          }
        ]
      },
      "chinese": [
        {
          name: "Egg Fried Rice",
          ingredients: ["rice", "eggs", "spring onion", "soy sauce", "garlic", "vegetable oil", "peas", "carrot"],
          instructions: "1. Use cold, day-old rice (fresh rice gets mushy).\n2. Beat eggs, scramble in hot oil. Remove from pan.\n3. Saut√© garlic, add carrots and peas. Cook 2 mins.\n4. Add rice, break lumps. Stir-fry 3 mins.\n5. Return eggs, add soy sauce and spring onions. Toss well. Serve hot."
        },
        {
          name: "Vegetable Hakka Noodles",
          ingredients: ["hakka noodles", "cabbage", "carrot", "capsicum", "soy sauce", "vinegar", "garlic", "green chili"],
          instructions: "1. Boil noodles with salt + oil. Drain and rinse under cold water.\n2. Heat oil, saut√© garlic and green chili.\n3. Add julienned vegetables. Stir-fry on high flame 3-4 mins.\n4. Add boiled noodles, soy sauce, vinegar. Toss well.\n5. Cook 2 more mins. Serve hot with chili sauce."
        },
        {
          name: "Manchurian (Dry)",
          ingredients: ["cabbage", "carrot", "corn flour", "soy sauce", "ginger", "garlic", "green chili", "spring onion"],
          instructions: "1. Grate cabbage and carrot. Mix with corn flour, salt, pepper.\n2. Shape into small balls. Deep fry until golden. Drain.\n3. Heat oil, saut√© ginger-garlic-green chili paste.\n4. Add soy sauce, vinegar, little water. Bring to boil.\n5. Add fried balls. Toss to coat. Garnish with spring onions. Serve dry."
        },
        {
          name: "Hot & Sour Soup",
          ingredients: ["tofu", "mushroom", "carrot", "vinegar", "soy sauce", "white pepper", "corn flour", "egg"],
          instructions: "1. Boil water with sliced mushrooms, carrots, tofu.\n2. Add soy sauce, vinegar, white pepper.\n3. Thicken with corn flour slurry.\n4. Slowly drizzle beaten egg while stirring to create ribbons.\n5. Garnish with spring onions. Serve hot."
        }
      ],
      "italian": [
        {
          name: "Pasta Aglio e Olio",
          ingredients: ["spaghetti", "garlic", "red pepper flakes", "olive oil", "parsley", "parmesan"],
          instructions: "1. Cook spaghetti in salted boiling water until al dente.\n2. Heat olive oil in pan. Add thinly sliced garlic and red pepper flakes.\n3. Cook on low until garlic is golden (don't burn!).\n4. Reserve 1/2 cup pasta water. Drain pasta.\n5. Toss pasta in garlic oil. Add pasta water to emulsify.\n6. Garnish with parsley and parmesan."
        },
        {
          name: "Caprese Salad",
          ingredients: ["tomato", "mozzarella", "basil", "olive oil", "balsamic glaze", "salt", "pepper"],
          instructions: "1. Slice tomatoes and fresh mozzarella into 1/4-inch rounds.\n2. Arrange alternately on plate: tomato ‚Üí mozzarella ‚Üí basil leaf.\n3. Drizzle generously with extra virgin olive oil.\n4. Add balsamic glaze in zigzag pattern.\n5. Season with sea salt and black pepper. Serve immediately."
        },
        {
          name: "Margherita Pizza",
          ingredients: ["pizza dough", "tomato sauce", "mozzarella", "basil", "olive oil", "salt"],
          instructions: "1. Stretch dough into 12-inch circle on floured surface.\n2. Spread thin layer of tomato sauce (don't overdo).\n3. Tear fresh mozzarella, distribute evenly.\n4. Bake at highest oven temp (250¬∞C+) for 8-10 mins until crust blisters.\n5. Top with fresh basil leaves and drizzle olive oil after baking."
        },
        {
          name: "Risotto alla Milanese",
          ingredients: ["arborio rice", "onion", "white wine", "vegetable broth", "saffron", "parmesan", "butter"],
          instructions: "1. Saut√© finely chopped onion in butter until translucent.\n2. Add rice, toast 2 mins until translucent edges.\n3. Add white wine, stir until absorbed.\n4. Add warm broth one ladle at a time, stirring constantly until absorbed before adding next.\n5. After 18 mins, add saffron dissolved in broth.\n6. Finish with parmesan and butter off-heat. Rest 2 mins before serving."
        }
      ],
      "continental": [
        {
          name: "Grilled Cheese Sandwich",
          ingredients: ["bread", "cheddar cheese", "butter", "mustard (optional)"],
          instructions: "1. Butter one side of each bread slice.\n2. Place cheese between unbuttered sides.\n3. Heat pan on medium-low. Place sandwich buttered-side down.\n4. Cook 3-4 mins until golden. Flip carefully.\n5. Press down gently. Cook other side 3-4 mins until cheese oozes.\n6. Slice diagonally. Serve hot."
        },
        {
          name: "Classic Caesar Salad",
          ingredients: ["romaine lettuce", "parmesan", "croutons", "anchovy paste", "garlic", "lemon", "egg yolk", "olive oil"],
          instructions: "1. Whisk egg yolk, minced garlic, anchovy paste, lemon juice.\n2. Slowly drizzle olive oil while whisking to emulsify.\n3. Tear romaine into bite pieces. Toss with dressing.\n4. Add shaved parmesan and homemade croutons.\n5. Finish with black pepper and extra parmesan."
        },
        {
          name: "Avocado Toast",
          ingredients: ["sourdough bread", "avocado", "lemon juice", "red pepper flakes", "salt", "pepper", "microgreens"],
          instructions: "1. Toast sourdough until golden and crisp.\n2. Mash ripe avocado with lemon juice, salt, pepper.\n3. Spread thickly on toast.\n4. Sprinkle red pepper flakes and flaky sea salt.\n5. Top with microgreens or radish slices. Drizzle olive oil."
        },
        {
          name: "French Onion Soup",
          ingredients: ["onion", "beef broth", "baguette", "gruyere cheese", "butter", "thyme", "bay leaf", "sherry"],
          instructions: "1. Slice 4 large onions thinly.\n2. Melt butter, cook onions on low 45-60 mins until deep golden brown (caramelize slowly!).\n3. Add thyme, bay leaf, sherry. Cook 2 mins.\n4. Add beef broth. Simmer 30 mins. Remove bay leaf.\n5. Ladle into oven-safe bowls. Top with toasted baguette slice and grated gruyere.\n6. Broil 3-4 mins until cheese bubbles and browns."
        },
        {
          name: "Hummus",
          ingredients: ["chickpeas", "tahini", "lemon", "garlic", "olive oil", "cumin", "salt"],
          instructions: "1. Drain canned chickpeas (reserve liquid).\n2. Blend tahini + lemon juice 1 min until whipped.\n3. Add garlic, cumin, salt. Blend.\n4. Add chickpeas gradually. Blend 3-4 mins until smooth.\n5. Add reserved chickpea liquid (aquafaba) 1 tbsp at a time until creamy.\n6. Serve drizzled with olive oil and paprika."
        }
      ]
    };

    function useSampleIngredients() {
      ingredients = ["tomato", "onion", "garlic", "ginger", "chickpeas"];
      updateIngredientsList();
      document.getElementById('ingredientInput').value = '';
    }

    function addIngredient() {
      const input = document.getElementById('ingredientInput');
      let value = input.value.trim().toLowerCase();
      value = value.replace(/s$/, '').replace('chilli', 'chili').replace('coriander leaves', 'cilantro');
      
      if (value && !ingredients.includes(value) && ingredients.length < 10) {
        ingredients.push(value);
        updateIngredientsList();
        input.value = '';
        input.focus();
      } else if (ingredients.length >= 10) {
        alert("Max 10 ingredients allowed for best results!");
      } else if (value) {
        alert("You already added this ingredient!");
      }
    }

    function removeIngredient(ing) {
      ingredients = ingredients.filter(i => i !== ing);
      updateIngredientsList();
    }

    function updateIngredientsList() {
      const list = document.getElementById('ingredientsList');
      if (ingredients.length === 0) {
        list.innerHTML = '<p style="color:#adb5bd;text-align:center;padding:15px;">No ingredients added yet</p>';
        return;
      }
      
      list.innerHTML = ingredients.map(ing => 
        `<span class="ingredient-tag">${ing} <button onclick="removeIngredient('${ing.replace(/'/g, "\\'")}')" aria-label="Remove ${ing}">‚úï</button></span>`
      ).join('');
      
      document.getElementById('ingredientCount').textContent = ingredients.length;
    }

    function nextToCuisine() {
      if (ingredients.length === 0) {
        alert("Please add at least one ingredient to find recipes!");
        return;
      }
      document.getElementById('step1').classList.add('hidden');
      document.getElementById('step2').classList.remove('hidden');
      document.getElementById('cuisineSelect').focus();
    }

    function backToIngredients() {
      document.getElementById('step2').classList.add('hidden');
      document.getElementById('step3').classList.add('hidden');
      document.getElementById('step1').classList.remove('hidden');
    }

    function toggleRegional() {
      const cuisine = document.getElementById('cuisineSelect').value;
      const regional = document.getElementById('regionalSelect');
      if (cuisine === 'indian') {
        regional.classList.remove('hidden');
        regional.focus();
      } else {
        regional.classList.add('hidden');
        regional.value = '';
      }
    }

    function findRecipes() {
      const cuisine = document.getElementById('cuisineSelect').value;
      if (!cuisine) {
        alert("Please select a cuisine!");
        document.getElementById('cuisineSelect').focus();
        return;
      }

      let recipes = [];
      
      if (cuisine === 'indian') {
        const region = document.getElementById('regionalSelect').value;
        if (!region) {
          alert("Please select a regional cuisine for Indian recipes!");
          document.getElementById('regionalSelect').focus();
          return;
        }
        recipes = recipesData.indian[region] || [];
      } else {
        recipes = recipesData[cuisine] || [];
      }

      displayRecipes(recipes, cuisine);
    }

    function displayRecipes(recipes, cuisine) {
      const container = document.getElementById('recipesContainer');
      
      let regionalCuisine = '';
      if (cuisine === 'indian') {
        regionalCuisine = document.getElementById('regionalSelect').value;
      }
      
      if (recipes.length === 0) {
        container.innerHTML = `
          <div class="no-recipes">
            <div style="font-size:48px;margin-bottom:15px;">üòï</div>
            <p>No recipes found with your ingredients.</p>
            <p style="font-size:16px;color:#6c757d;margin-top:8px;">
              Try adding common staples like: <strong>onion, garlic, tomato, rice, eggs</strong>
            </p>
          </div>
        `;
      } else {
        container.innerHTML = recipes.map(recipe => {
          const available = recipe.ingredients.filter(i => ingredients.some(ing => i.includes(ing) || ing.includes(i.split(' ')[0])));
          const missing = recipe.ingredients.filter(i => !ingredients.some(ing => i.includes(ing) || ing.includes(i.split(' ')[0])));
          
          const cuisineNames = {
            "indian": "Indian",
            "chinese": "Chinese",
            "italian": "Italian",
            "continental": "Continental"
          };
          
          const regionalNames = {
            "punjabi": "Punjabi",
            "south-indian": "South Indian",
            "gujarati": "Gujarati",
            "marathi": "Marathi",
            "hyderabadi": "Hyderabadi",
            "bengali": "Bengali"
          };
          
          return `
            <div class="recipe-card">
              <h3>${recipe.name}</h3>
              <div class="recipe-meta">
                <span class="cuisine-tag">${cuisineNames[cuisine]}</span>
                ${regionalCuisine ? `<span class="regional-tag">${regionalNames[regionalCuisine]}</span>` : ''}
              </div>
              
              <div class="ingredients-list">
                <h4>üìã Ingredients:</h4>
                <ul>
                  ${recipe.ingredients.map(ing => {
                    const isAvailable = ingredients.some(i => ing.includes(i) || i.includes(ing.split(' ')[0]));
                    return `<li><span class="${isAvailable ? 'available' : 'missing'}">${isAvailable ? '‚úì' : '‚úó'}</span> ${ing}</li>`;
                  }).join('')}
                </ul>
              </div>
              
              ${missing.length > 0 ? `
                <button class="order-btn" onclick="orderItems('${missing.map(m => m.split(' ')[0]).join(',')}')">
                  üõí Order ${missing.length} Missing Item${missing.length > 1 ? 's' : ''}
                </button>
              ` : `
                <p style="color:#28a745;font-weight:600;margin:15px 0 0 0;">‚úÖ You have all ingredients!</p>
              `}
              
              <div class="instructions">
                <details>
                  <summary>üìù Cooking Instructions</summary>
                  <p>${recipe.instructions.replace(/\n/g, '<br>')}</p>
                </details>
              </div>
            </div>
          `;
        }).join('');
      }

      document.getElementById('step2').classList.add('hidden');
      document.getElementById('step3').classList.remove('hidden');
    }

    function orderItems(items) {
      const itemArray = items.split(',').map(i => i.trim());
      const searchQuery = itemArray.join('+');
      
      const userLang = navigator.language || navigator.userLanguage;
      const countryCode = userLang.split('-')[1]?.toLowerCase() || 'in';
      
      let shoppingUrl = '';
      
      if (countryCode === 'in') {
        shoppingUrl = `https://blinkit.com/s/?q=${searchQuery}`;
      } else if (countryCode === 'us') {
        shoppingUrl = `https://www.instacart.com/store/search?q=${searchQuery}`;
      } else if (countryCode === 'gb') {
        shoppingUrl = `https://www.ocado.com/search?entry=${searchQuery}`;
      } else if (countryCode === 'ca') {
        shoppingUrl = `https://www.voilagrocery.ca/search?searchTerm=${searchQuery}`;
      } else {
        shoppingUrl = `https://www.google.com/search?q=${searchQuery}+buy+online`;
      }
      
      window.open(shoppingUrl, '_blank', 'noopener,noreferrer');
    }

    function resetApp() {
      ingredients = [];
      document.getElementById('ingredientInput').value = '';
      document.getElementById('ingredientsList').innerHTML = '<p style="color:#adb5bd;text-align:center;padding:15px;">No ingredients added yet</p>';
      document.getElementById('cuisineSelect').value = '';
      document.getElementById('regionalSelect').value = '';
      document.getElementById('regionalSelect').classList.add('hidden');
      document.getElementById('step3').classList.add('hidden');
      document.getElementById('step1').classList.remove('hidden');
      document.getElementById('ingredientInput').focus();
    }

    function showPrivacy() {
      alert("PantryPal Privacy Notice:\n\n‚Ä¢ We NEVER store your ingredients\n‚Ä¢ No accounts required\n‚Ä¢ 100% browser-based (nothing leaves your device)\n‚Ä¢ Open-source code available on GitHub");
      return false;
    }

    document.getElementById('ingredientInput').focus();
  </script>
</body>
</html>
